"use strict";(self["webpackChunkkfront"]=self["webpackChunkkfront"]||[]).push([[845],{4991:function(t,e,a){a.r(e),a.d(e,{default:function(){return p}});var l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"vmarea"},[e("el-row",{attrs:{gutter:0}},[e("el-col",{attrs:{span:10,offset:0}},[e("p",{staticStyle:{"font-size":"25px","font-weight":"600","margin-bottom":"20px"}},[t._v(" 应用列表 ")])]),e("el-col",{attrs:{span:5,offset:9}},[e("el-input",{attrs:{placeholder:"xxx.xxx.xxx.xxx",size:"normal",clearable:""},model:{value:t.dir_ip,callback:function(e){t.dir_ip=e},expression:"dir_ip"}},[e("template",{slot:"prepend"},[t._v("http://")])],2)],1)],1),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.cidata.slice((t.curpage-1)*t.pagesize,t.curpage*t.pagesize).filter((e=>!t.psearch||e.metadata.name.toLowerCase().includes(t.psearch.toLowerCase()))),"empty-text":"暂无应用","header-cell-style":{background:"#00b8a9",color:"#fff"}}},[e("el-table-column",{attrs:{width:"80",type:"index",label:"序号"}}),e("el-table-column",{attrs:{width:"300",sortable:"",label:"应用名称",prop:"metadata.name"}}),e("el-table-column",{attrs:{width:"450",sortable:"",label:"节点端口",prop:"spec.ports[0].nodePort"}}),e("el-table-column",{attrs:{width:"400",sortable:"",label:"标签",prop:"metadata.labels"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(JSON.stringify(e.row.metadata.labels).replaceAll("{","").replaceAll("}","").replaceAll('"',""))+" ")]}}])}),e("el-table-column",{attrs:{width:"200",sortable:"",label:"生成时间",prop:"metadata.creationTimestamp"}}),e("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",{staticStyle:{"text-align":"center"}},[e("el-button",{attrs:{plain:"",type:"info"},on:{click:function(e){return t.todir(a.$index,a.row)}}},[t._v("查看")])],1)]}}])},[e("template",{slot:"header"},[e("el-input",{attrs:{size:"mini",placeholder:"输入名称搜索"},model:{value:t.psearch,callback:function(e){t.psearch=e},expression:"psearch"}})],1)],2)],1),0!=t.cidata.length?e("div",{staticStyle:{"margin-top":"30px"}},[e("el-pagination",{attrs:{"current-page":t.curpage,"page-sizes":[10,20,30,40,50],"page-size":t.pagesize,layout:"sizes, total, prev, pager, next, jumper",total:t.totalci,background:""},on:{"update:currentPage":function(e){t.curpage=e},"update:current-page":function(e){t.curpage=e},"update:pageSize":function(e){t.pagesize=e},"update:page-size":function(e){t.pagesize=e}}})],1):t._e()],1)},r=[],i={name:"AppList",mounted(){this.getVMList()},data(){return{baseurl:"http://39.98.124.97:8080",cidata:[],psearch:"",curpage:1,totalci:0,pagesize:10,dir_ip:"39.98.124.97"}},methods:{todir(t,e){window.open("http://"+this.dir_ip+":"+e.spec.ports[0].nodePort)},getVMList(){this.$axios.get(this.baseurl+"/service/list").then((t=>{let e=t.data.result;this.cidata=JSON.parse(e).items,this.cidata=this.cidata.filter((t=>t.spec.ports[0].nodePort)),this.totalci=this.cidata.length})).catch((t=>{console.log("errors",t)}))}}},s=i,o=a(1001),n=(0,o.Z)(s,l,r,!1,null,null,null),p=n.exports}}]);
//# sourceMappingURL=845.4b64031f.js.map