{"version":3,"file":"js/971.d88653df.js","mappings":"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","sources":["webpack://kfront/./src/views/ImageList.vue","webpack://kfront/src/views/ImageList.vue","webpack://kfront/./src/views/ImageList.vue?de44","webpack://kfront/./src/views/ImageList.vue?5892"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"vmarea\"},[_c('el-row',{attrs:{\"gutter\":0}},[_c('el-col',{attrs:{\"span\":10,\"offset\":0}},[_c('p',{staticStyle:{\"font-size\":\"25px\",\"font-weight\":\"600\",\"margin-bottom\":\"20px\"}},[_vm._v(\" 容器镜像列表 \")])]),_c('el-col',{attrs:{\"span\":2,\"offset\":12}},[_c('el-button',{attrs:{\"icon\":\"el-icon-circle-plus-outline\",\"size\":\"medium\",\"round\":\"\",\"plain\":\"\"},on:{\"click\":_vm.openUploadImage}},[_vm._v(\"上传镜像\")])],1)],1),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.cidata\n        .slice((_vm.curpage - 1) * _vm.pagesize, _vm.curpage * _vm.pagesize)\n        .filter(\n          (data) =>\n            !_vm.psearch ||\n            data.image.toLowerCase().includes(_vm.psearch.toLowerCase())\n        ),\"empty-text\":\"暂无容器镜像\",\"header-cell-style\":{ background: '#00b8a9', color: '#fff' }},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"width\":\"80\",\"type\":\"index\",\"label\":\"序号\"}}),_c('el-table-column',{attrs:{\"width\":\"500\",\"sortable\":\"\",\"label\":\"镜像名称\",\"prop\":\"imageName\"}}),_c('el-table-column',{attrs:{\"width\":\"300\",\"sortable\":\"\",\"label\":\"标签\",\"prop\":\"imageTag\"}}),_c('el-table-column',{attrs:{\"width\":\"200\",\"sortable\":\"\",\"label\":\"镜像ID\",\"prop\":\"imageId\"}}),_c('el-table-column',{attrs:{\"width\":\"200\",\"sortable\":\"\",\"label\":\"体积\",\"prop\":\"imageSize\"}}),_c('el-table-column',{attrs:{\"align\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('el-button',{attrs:{\"plain\":\"\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.deleteimage(scope.$index, scope.row)}}},[_vm._v(\"删除\")])],1)]}}])},[_c('template',{slot:\"header\"},[_c('el-input',{attrs:{\"size\":\"mini\",\"placeholder\":\"输入名称搜索\"},model:{value:(_vm.psearch),callback:function ($$v) {_vm.psearch=$$v},expression:\"psearch\"}})],1)],2)],1),(_vm.cidata.length != 0)?_c('div',{staticStyle:{\"margin-top\":\"30px\"}},[_c('el-pagination',{attrs:{\"current-page\":_vm.curpage,\"page-sizes\":[10, 20, 30, 40, 50],\"page-size\":_vm.pagesize,\"layout\":\"sizes, total, prev, pager, next, jumper\",\"total\":_vm.totalci,\"background\":\"\"},on:{\"update:currentPage\":function($event){_vm.curpage=$event},\"update:current-page\":function($event){_vm.curpage=$event},\"update:pageSize\":function($event){_vm.pagesize=$event},\"update:page-size\":function($event){_vm.pagesize=$event}}})],1):_vm._e(),_c('el-dialog',{attrs:{\"title\":\"上传镜像\",\"visible\":_vm.uploadimagevisible},on:{\"update:visible\":function($event){_vm.uploadimagevisible=$event}}},[_c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('el-upload',{ref:\"upload\",staticClass:\"upload-demo\",staticStyle:{\"width\":\"100%\"},attrs:{\"drag\":\"\",\"action\":_vm.baseurl + '/containerd/uploadImage',\"data\":_vm.formData,\"multiple\":false,\"accept\":\".tar\",\"auto-upload\":true,\"limit\":1,\"name\":\"tarFile\",\"before-upload\":_vm.handleBeforeUpload,\"on-success\":_vm.sucupload,\"on-error\":_vm.errupload}},[_c('i',{staticClass:\"el-icon-upload\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将文件拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])]),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"*只能上传.tar文件\")])])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"vmarea\">\r\n    <!-- 头部标题操作 -->\r\n    <el-row :gutter=\"0\">\r\n      <el-col :span=\"10\" :offset=\"0\"\r\n        ><p style=\"font-size: 25px; font-weight: 600; margin-bottom: 20px\">\r\n          容器镜像列表\r\n        </p></el-col\r\n      >\r\n      <!-- <el-col :span=\"3\" :offset=\"9\">\r\n        <el-button\r\n          @click=\"openUploadImage\"\r\n          icon=\"el-icon-s-promotion\"\r\n          size=\"medium\"\r\n          round\r\n          plain\r\n          >分发镜像到端</el-button\r\n        >\r\n      </el-col> -->\r\n      <el-col :span=\"2\" :offset=\"12\">\r\n        <el-button\r\n          @click=\"openUploadImage\"\r\n          icon=\"el-icon-circle-plus-outline\"\r\n          size=\"medium\"\r\n          round\r\n          plain\r\n          >上传镜像</el-button\r\n        >\r\n      </el-col>\r\n    </el-row>\r\n    <!-- 表格区域 -->\r\n    <el-table\r\n      :data=\"\r\n        cidata\r\n          .slice((curpage - 1) * pagesize, curpage * pagesize)\r\n          .filter(\r\n            (data) =>\r\n              !psearch ||\r\n              data.image.toLowerCase().includes(psearch.toLowerCase())\r\n          )\r\n      \"\r\n      style=\"width: 100%\"\r\n      empty-text=\"暂无容器镜像\"\r\n      :header-cell-style=\"{ background: '#00b8a9', color: '#fff' }\"\r\n      @selection-change=\"handleSelectionChange\"\r\n    >\r\n      <!-- <el-table-column type=\"selection\" width=\"55\"> </el-table-column> -->\r\n      <el-table-column width=\"80\" type=\"index\" label=\"序号\"> </el-table-column>\r\n      <el-table-column width=\"500\" sortable label=\"镜像名称\" prop=\"imageName\">\r\n      </el-table-column>\r\n      <el-table-column width=\"300\" sortable label=\"标签\" prop=\"imageTag\">\r\n      </el-table-column>\r\n      <el-table-column width=\"200\" sortable label=\"镜像ID\" prop=\"imageId\">\r\n      </el-table-column>\r\n      <el-table-column width=\"200\" sortable label=\"体积\" prop=\"imageSize\">\r\n      </el-table-column>\r\n      <el-table-column align=\"right\">\r\n        <template slot=\"header\">\r\n          <el-input v-model=\"psearch\" size=\"mini\" placeholder=\"输入名称搜索\" />\r\n        </template>\r\n        <template slot-scope=\"scope\">\r\n          <div style=\"text-align: center\">\r\n            <el-button\r\n              plain\r\n              type=\"danger\"\r\n              @click=\"deleteimage(scope.$index, scope.row)\"\r\n              >删除</el-button\r\n            >\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <!-- 分页栏 -->\r\n    <div v-if=\"cidata.length != 0\" style=\"margin-top: 30px\">\r\n      <el-pagination\r\n        :current-page.sync=\"curpage\"\r\n        :page-sizes=\"[10, 20, 30, 40, 50]\"\r\n        :page-size.sync=\"pagesize\"\r\n        layout=\"sizes, total, prev, pager, next, jumper\"\r\n        :total=\"totalci\"\r\n        background\r\n      >\r\n      </el-pagination>\r\n    </div>\r\n    <!-- 上传镜像对话框 -->\r\n    <el-dialog title=\"上传镜像\" :visible.sync=\"uploadimagevisible\">\r\n      <div style=\"text-align: center\">\r\n        <el-upload\r\n          class=\"upload-demo\"\r\n          drag\r\n          ref=\"upload\"\r\n          :action=\"baseurl + '/containerd/uploadImage'\"\r\n          :data=\"formData\"\r\n          :multiple=\"false\"\r\n          accept=\".tar\"\r\n          :auto-upload=\"true\"\r\n          :limit=\"1\"\r\n          name=\"tarFile\"\r\n          :before-upload=\"handleBeforeUpload\"\r\n          :on-success=\"sucupload\"\r\n          :on-error=\"errupload\"\r\n          style=\"width: 100%\"\r\n        >\r\n          <i class=\"el-icon-upload\"></i>\r\n          <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\r\n          <div class=\"el-upload__tip\" slot=\"tip\">*只能上传.tar文件</div>\r\n        </el-upload>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n  \r\n  <script>\r\nimport { del } from \"vue\";\r\n\r\nexport default {\r\n  name: \"ImageList\",\r\n  mounted() {\r\n    this.getVMList();\r\n  },\r\n  data() {\r\n    return {\r\n      baseurl: \"http://39.98.124.97:8080\",\r\n      cidata: [],\r\n      psearch: \"\",\r\n      curpage: 1,\r\n      totalci: 0,\r\n      pagesize: 10,\r\n      uploadimagevisible: false,\r\n      reqData: {\r\n        virtualMachineIp: \"\",\r\n        userName: \"\",\r\n        userPassword: \"\",\r\n        imageId: \"\",\r\n      },\r\n      formData: {\r\n        virtualMachineIp: \"39.98.124.97\",\r\n        userName: \"root\",\r\n        userPassword: \"Upc123456@\",\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    // 多选\r\n    handleSelectionChange(val) {\r\n      console.log(val);\r\n    },\r\n    // 删除镜像\r\n    deleteimage(idx, row) {\r\n      this.reqData.virtualMachineIp = this.formData.virtualMachineIp;\r\n      this.reqData.userName = this.formData.userName;\r\n      this.reqData.userPassword = this.formData.userPassword;\r\n      this.reqData.imageId = row.imageid;\r\n      console.log(\"row:\" + row);\r\n      this.$axios\r\n        .post(this.baseurl + \"/containerd/deleteImage\", {\r\n          imageInfo: row,\r\n          vmInfo: this.formData,\r\n        })\r\n        .then((res) => {\r\n          console.log(res);\r\n          if (res.data[0] === \"I\") {\r\n            this.$notify.success({\r\n              title: \"删除成功\",\r\n              message: \"镜像删除成功\",\r\n              position: \"bottom-right\",\r\n              duration: 6000,\r\n            });\r\n            this.getVMList();\r\n          } else {\r\n            this.$notify.error({\r\n              title: \"删除失败\",\r\n              message: response,\r\n              position: \"bottom-right\",\r\n              duration: 6000,\r\n            });\r\n            this.getVMList();\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"errors\", err);\r\n        });\r\n    },\r\n    // 上传失败\r\n    errupload(err, file, fileList) {\r\n      this.$notify.error({\r\n        title: \"上传失败\",\r\n        message: JSON.parse(err.message).message,\r\n        position: \"bottom-right\",\r\n        duration: 6000,\r\n      });\r\n      this.uploadimagevisible = false;\r\n      this.getVMList();\r\n    },\r\n    // 成功上传文件\r\n    sucupload(response, file, fileList) {\r\n      if (response[0] === \"I\") {\r\n        this.$notify.success({\r\n          title: \"上传成功\",\r\n          message: \"镜像上传成功\",\r\n          position: \"bottom-right\",\r\n          duration: 6000,\r\n        });\r\n        this.uploadimagevisible = false;\r\n        this.getVMList();\r\n      } else {\r\n        this.$notify.error({\r\n          title: \"上传失败\",\r\n          message: response,\r\n          position: \"bottom-right\",\r\n          duration: 6000,\r\n        });\r\n        this.uploadimagevisible = false;\r\n        this.getVMList();\r\n      }\r\n    },\r\n    // 控制文件格式\r\n    handleBeforeUpload(file) {\r\n      console.log(file);\r\n      var iso = file.name.substring(file.name.lastIndexOf(\".\") + 1);\r\n      const suffix = iso === \"tar\";\r\n      if (!suffix) {\r\n        this.$message.error(\"只能上传TAR文件！\");\r\n        return false;\r\n      }\r\n      return suffix;\r\n    },\r\n    // 解析数据\r\n    data_resolver(sdata) {\r\n      let res = [];\r\n      let rows = sdata.split(\"\\n\");\r\n      let i = 1;\r\n      for (; i < rows.length - 1; i++) {\r\n        let cols = rows[i].split(\" \");\r\n        let j = 0;\r\n        cols = cols.filter(function (item) {\r\n          return item !== \"\";\r\n        });\r\n        res.push({\r\n          imageName: cols[0],\r\n          imageTag: cols[1],\r\n          imageId: cols[2],\r\n          imageSize: cols[3],\r\n        });\r\n      }\r\n      return res;\r\n    },\r\n    // 获取容器镜像列表数据\r\n    getVMList() {\r\n      this.$axios\r\n        .post(\r\n          this.baseurl +\r\n            \"/containerd/images/list?nodeName=\" +\r\n            this.$store.state.nodename,\r\n          {\r\n            virtualMachineIp: \"39.98.124.97\",\r\n            userName: \"root\",\r\n            userPassword: \"Upc123456@\",\r\n          }\r\n        )\r\n        .then((res) => {\r\n          let s_data = this.data_resolver(res.data.result);\r\n          this.cidata = s_data;\r\n          this.totalci = s_data.length;\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"errors\", err);\r\n        });\r\n    },\r\n    // 打开上传镜像dialog\r\n    openUploadImage() {\r\n      this.uploadimagevisible = true;\r\n    },\r\n  },\r\n  computed: {\r\n    tmp_nodename_w() {\r\n      return this.$store.state.nodename\r\n    }\r\n  },\r\n  watch: {\r\n    tmp_nodename_w(nv, ov) {\r\n      this.getVMList()\r\n    }\r\n  }\r\n};\r\n</script>\r\n  \r\n  <style>\r\n.el-upload {\r\n  width: 100%;\r\n  height: 400px;\r\n}\r\n.el-upload .el-upload-dragger {\r\n  width: 100%;\r\n  height: 400px;\r\n  padding-top: 120px;\r\n}\r\n\r\n.vmarea {\r\n  background-color: #fff;\r\n  border-radius: 5px;\r\n  padding: 20px;\r\n  margin-top: 15px;\r\n}\r\n\r\n/*带背景的分页按钮背景色begin*/\r\n.el-pagination.is-background .el-pager li:not(.disabled).active {\r\n  background-color: #08c0b9;\r\n  color: #fff;\r\n}\r\n.el-pagination.is-background .el-pager li.active {\r\n  color: #fff;\r\n  cursor: default;\r\n}\r\n.el-pagination.is-background .el-pager li:hover {\r\n  color: #08c0b9;\r\n}\r\n.el-pagination.is-background .el-pager li:not(.disabled):hover {\r\n  color: #08c0b9;\r\n}\r\n.el-pagination.is-background .el-pager li:not(.disabled).active:hover {\r\n  background-color: #08c0b9;\r\n  color: #fff;\r\n}\r\n/*带背景的分页按钮背景色end*/\r\n\r\n/*不带背景的分页按钮背景色begin*/\r\n.el-pager li.active {\r\n  color: #08c0b9;\r\n  cursor: default;\r\n}\r\n.el-pagination .el-pager li:hover {\r\n  color: #08c0b9;\r\n}\r\n.el-pagination .el-pager li:not(.disabled):hover {\r\n  color: #08c0b9;\r\n}\r\n/*不带背景的分页按钮背景色end*/\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ImageList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ImageList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./ImageList.vue?vue&type=template&id=4f2ee808\"\nimport script from \"./ImageList.vue?vue&type=script&lang=js\"\nexport * from \"./ImageList.vue?vue&type=script&lang=js\"\nimport style0 from \"./ImageList.vue?vue&type=style&index=0&id=4f2ee808&prod&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","staticStyle","_v","on","openUploadImage","cidata","slice","curpage","pagesize","filter","data","psearch","image","toLowerCase","includes","background","color","handleSelectionChange","scopedSlots","_u","key","fn","scope","$event","deleteimage","$index","row","slot","model","value","callback","$$v","expression","length","totalci","_e","uploadimagevisible","ref","baseurl","formData","handleBeforeUpload","sucupload","errupload","staticRenderFns","name","mounted","getVMList","reqData","virtualMachineIp","userName","userPassword","imageId","methods","val","console","log","idx","imageid","$axios","post","imageInfo","vmInfo","then","res","$notify","success","title","message","position","duration","error","response","catch","err","file","fileList","JSON","parse","iso","substring","lastIndexOf","suffix","$message","data_resolver","sdata","rows","split","i","cols","item","push","imageName","imageTag","imageSize","$store","state","nodename","s_data","result","computed","tmp_nodename_w","watch","nv","ov","component"],"sourceRoot":""}