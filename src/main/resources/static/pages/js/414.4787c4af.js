"use strict";(self["webpackChunkkfront"]=self["webpackChunkkfront"]||[]).push([[414],{5414:function(e,t,o){o.r(t),o.d(t,{default:function(){return c}});var r=function(){var e=this;e._self._c;return e._m(0)},s=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"content",staticStyle:{"background-color":"#F5F5F5"}},[t("div",{staticStyle:{width:"1920px",height:"1200px"},attrs:{id:"myEchart"}})])}],i=(o(70560),o(81022)),n=o(70710),l={data(){return{myChart:void 0,baseurl:"http://39.98.124.97:8080",nodeList:[],scatter:[]}},mounted(){this.getNodes()},methods:{drawChina(){let e=["格陵兰","Greenland"],t=i.features;for(let o=0,r=t.length;o<r;++o){let r=t[o],s=r.geometry,i=s.coordinates;if(!e.includes(r.properties.name))for(let e=0,t=i.length;e<t;++e){let t=i[e];for(let e=0,o=t.length;e<o;++e)if(t[e].length>2)for(let r=0,s=t[e].length;r<s;++r)t[e][r][0]=t[e][r][0]>=-30?t[e][r][0]-180:t[e][r][0]+180,t[e][r][0]+=50;else t[e][0]=t[e][0]>=-30?t[e][0]-180:t[e][0]+180,t[e][0]+=50}}this.myChart=n.init(document.getElementById("myEchart")),n.registerMap("world",i),this.myChart.setOption({tooltip:{trigger:"item",formatter:"{b}"},geo:{map:"world",roam:!0,zoom:1.2,scaleLimit:{min:1,max:2},center:[10.97,20.71],itemStyle:{areaColor:"#3a535e",color:"red",borderColor:"#36e7ee",borderWidth:1.5},emphasis:{itemStyle:{areaColor:"#1af9e5",color:"#fff"}}},series:{type:"effectScatter",coordinateSystem:"geo",data:this.scatter,showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!0,fontSize:"17px",color:"#100f0f",fontWeight:"bold"}},zlevel:1}}),this.myChart.on("click",(e=>{"series"===e.componentType&&"effectScatter"===e.seriesType&&this.$router.push("/detail")}))},getNodes(){this.$axios.get(this.baseurl+"/log/getNodes").then((e=>{this.nodeList=e.data.content,console.log(e.data.content);for(let t=0;t<this.nodeList.length;t++){let e={},o="";o=this.nodeList[t].nodeLocation,"云"===this.nodeList[t].nodeType?o+="(云节点)":"边"===this.nodeList[t].nodeType?o+="(边节点)":o+="(端节点)",e["name"]=o;let r=[];this.nodeList[t].nodeLon>-30?r.push(this.nodeList[t].nodeLon-180+50):r.push(this.nodeList[t].nodeLon+180+50),r.push(this.nodeList[t].nodeLat),r.push(9),e["value"]=r,e["symbol"]="diamond",e["symbolSize"]=15;let s={};s["color"]=this.getNodeColor(this.nodeList[t].nodeType),e["itemStyle"]=s,this.scatter.push(e)}this.drawChina()})).catch((e=>{console.log("errors",e)}))},getNodeColor(e){return"云"===e?"#fd0000":"边"===e?"#2607f1":"#cbf806"}}},a=l,h=o(1001),d=(0,h.Z)(a,r,s,!1,null,null,null),c=d.exports}}]);
//# sourceMappingURL=414.4787c4af.js.map