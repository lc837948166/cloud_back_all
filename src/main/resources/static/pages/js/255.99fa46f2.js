"use strict";(self["webpackChunkkfront"]=self["webpackChunkkfront"]||[]).push([[255],{43255:function(t,e,a){a.r(e),a.d(e,{default:function(){return p}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"vmarea"},[e("el-row",{attrs:{gutter:0}},[e("el-col",{attrs:{span:10,offset:0}},[e("p",{staticStyle:{"font-size":"25px","font-weight":"600","margin-bottom":"20px"}},[t._v(" Pod指标列表 ")])])],1),e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.pidata.slice((t.curpage-1)*t.pagesize,t.curpage*t.pagesize).filter((e=>!t.psearch||e.metadata.name.toLowerCase().includes(t.psearch.toLowerCase()))),"empty-text":"暂无Pod指标","header-cell-style":{background:"#00b8a9",color:"#fff"}}},[e("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(t){return[e("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[e("el-form-item",{attrs:{label:"容器列表"}}),e("el-table",{staticStyle:{width:"90%"},attrs:{size:"small",data:t.row.containers}},[e("el-table-column",{attrs:{type:"index"}}),e("el-table-column",{attrs:{prop:"name",label:"容器名称",width:"200"}}),e("el-table-column",{attrs:{prop:"usage.cpu",label:"cpu",width:"400"}}),e("el-table-column",{attrs:{prop:"usage.memory",label:"memory"}})],1)],1)]}}])}),e("el-table-column",{attrs:{label:"序号",type:"index"}}),e("el-table-column",{attrs:{width:"250",sortable:"",label:"Pod名",prop:"metadata.name"}}),e("el-table-column",{attrs:{width:"250",sortable:"",label:"命名空间",prop:"metadata.namespace"}}),e("el-table-column",{attrs:{width:"250",sortable:"",label:"创建时间",prop:"metadata.creationTimestamp"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",[e("span",[t._v(t._s(t.formatDate(a.row.metadata.creationTimestamp,"YYYY-MM-DD")))]),e("br"),e("span",[t._v(t._s(t.formatDate(a.row.metadata.creationTimestamp,"HH:mm:ss")))])])]}}])}),e("el-table-column",{attrs:{width:"250",sortable:"",label:"时间窗口",prop:"window"}}),e("el-table-column",{attrs:{width:"250",sortable:"",label:"指标采集时间",prop:"timestamp"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("div",[e("span",[t._v(t._s(t.formatDate(a.row.timestamp,"YYYY-MM-DD")))]),e("br"),e("span",[t._v(t._s(t.formatDate(a.row.timestamp,"HH:mm:ss")))])])]}}])}),e("el-table-column",{attrs:{align:"right"}},[e("template",{slot:"header"},[e("el-input",{attrs:{size:"mini",placeholder:"输入名称搜索"},model:{value:t.psearch,callback:function(e){t.psearch=e},expression:"psearch"}})],1)],2)],1),0!=t.pidata.length?e("div",{staticStyle:{"margin-top":"30px"}},[e("el-pagination",{attrs:{"current-page":t.curpage,"page-sizes":[10,20,30,40,50],"page-size":t.pagesize,layout:"sizes, total, prev, pager, next, jumper",total:t.totalpi,background:""},on:{"update:currentPage":function(e){t.curpage=e},"update:current-page":function(e){t.curpage=e},"update:pageSize":function(e){t.pagesize=e},"update:page-size":function(e){t.pagesize=e}}})],1):t._e()],1)},s=[],l={name:"IndexList",mounted(){this.getPodIndexList()},data(){return{baseurl:"http://39.98.124.97:8080",pidata:[],psearch:"",curpage:1,totalpi:0,pagesize:10,createVirstoreVisible:!1,editform:{vol:""}}},methods:{formatDate(t,e){const a=new Date(t),r=a.getFullYear(),s=String(a.getMonth()+1).padStart(2,"0"),l=String(a.getDate()).padStart(2,"0"),o=String(a.getHours()).padStart(2,"0"),i=String(a.getMinutes()).padStart(2,"0"),n=String(a.getSeconds()).padStart(2,"0");return"YYYY-MM-DD"===e?`${r}-${s}-${l}`:"HH:mm:ss"===e?`${o}:${i}:${n}`:""},getPodIndexList(){this.$axios.post(this.baseurl+"/index/podIndex/list",{virtualMachineIp:"39.98.124.97",userName:"root",userPassword:"Upc123456@"}).then((t=>{this.pidata=JSON.parse(t.data.result).items,this.totalpi=JSON.parse(t.data.result).items.length,console.log(JSON.parse(t.data.result))})).catch((t=>{console.log("errors",t)}))},openCreateVirStore(){this.createVirstoreVisible=!0},resetForm(t){this.$refs[t].resetFields()}}},o=l,i=a(1001),n=(0,i.Z)(o,r,s,!1,null,null,null),p=n.exports}}]);
//# sourceMappingURL=255.99fa46f2.js.map